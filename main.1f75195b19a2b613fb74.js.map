{"version":3,"sources":["webpack:///./templates/library.hbs","webpack:///./templates/movie-grid.hbs","webpack:///./js/team-modal.js","webpack:///./js/refs.js","webpack:///./js/components/library.js","webpack:///./js/pagination.min.js","webpack:///./js/openLibrary.js","webpack:///./js/apiSearchFetch.js","webpack:///./js/apiFilmFetch.js","webpack:///./js/onButtonAddToQueue.js","webpack:///./js/onButtonAddToWatched.js","webpack:///./js/onButtonRemoveFromWatched.js","webpack:///./js/buttonWatchedCheckActive.js","webpack:///./js/onButtonRemoveFromQueue.js","webpack:///./js/buttonQueueCheckActive.js","webpack:///./js/modal-text-watcher.js","webpack:///./js/modalFilmMarkup.js","webpack:///./js/cardDataHandler.js","webpack:///./js/paginationOptions.js","webpack:///./js/button-up.js","webpack:///./index.js","webpack:///./img/image-placeholder-modal.jpg","webpack:///./img/image-placeholder.jpg","webpack:///./templates/spinner.hbs","webpack:///./templates/library__card.hbs","webpack:///./templates/modal.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop","galleryContainer","document","querySelector","body","closeBtn","onCloseModal","classList","remove","removeEventListener","onEscKeyPress","event","code","addEventListener","evt","preventDefault","window","add","refs","searchForm","inputForm","navLibrary","buttons","myLibraryGallery","myLibraryCard","libraryList","libraryPaginationContainer","homeGallery","buttonWatched","buttonQueue","movieGrid","errorWarning","underscoreOnMyLibrary","underscoreOnHome","navHome","headerHomeOrMyLibrary","header","getElementById","filmoteka","paginatingLib","containerToUse","SourceToUse","cardsPerPage","pagination","paginationParametersCommon","dataSource","pageSize","showPrevious","length","showNext","locator","totalNumberLocator","pageRange","formatResult","map","obj","release_date","slice","genres","name","genre","index","array","toString","prevText","nextText","autoHidePrevious","autoHideNext","beforePaging","arg","callback","html","libraryTemplate","$","alias","pageNumber","a","b","c","Error","d","totalNumber","isNumeric","isFunction","i","isObject","e","each","off","h","g","fn","f","this","j","k","extend","defaults","l","initialize","callHook","initialized","disabled","model","parseDataSource","isAsync","isString","isArray","isDynamicTotalNumber","render","className","addClass","el","position","observer","getTotalPage","Math","min","generateHTML","currentPage","rangeStart","rangeEnd","hideWhenLessThanOnePage","generatePageNumbersHTML","pageLink","ellipsisText","classPrefix","m","activeClassName","n","disableClassName","showFirstOnEllipsisShow","showLastOnEllipsisShow","getTotalNumber","showPageNumbers","showNavigator","showGoInput","showGoButton","o","p","q","r","goButtonText","s","t","u","ulClassName","v","w","x","y","formatNavigator","z","formatGoInput","A","formatGoButton","B","C","D","E","footer","replaceVariables","totalPage","input","button","findTotalNumberFromRemoteResponse","go","direction","enable","currentPageData","doCallback","parseInt","getDataFragment","ajax","type","cache","contentType","dataType","async","url","success","filterDataByLocator","error","formatAjaxError","disable","destroy","previous","next","refresh","show","is","hide","RegExp","replace","ceil","getLocator","split","test","ajaxDataType","Array","apply","arguments","shift","hooks","on","trim","delegate","currentTarget","attr","hasClass","val","trigger","which","focus","max","triggerPagingOnInit","attributes","inlineStyle","addHook","push","jQuery","toLowerCase","define","buttonWatchedActive","queuePaginate","JSON","parse","localStorage","getItem","watchedPaginate","getComputedStyle","documentElement","getPropertyValue","target","id","openLibrary","contains","openHome","apiKey","searchQuery","_page","_searchUrl","_popularUrl","fetchMovie","baseUrl","fetch","then","res","json","results","fetchGenres","genresUrl","response","catch","console","log","newQuery","_baseUrl","pageForSet","ajaxBeforeSendSearchFnc","spinner","api_key","query","page","beforeSend","searchMovie","movie_id","film","onButtonAddToQueue","selectedFilm","filmsQueue","currentFilmsQueue","buttonAddToQueueRef","textContent","find","setItem","stringify","onButtonAddToWatched","filmsArray","currentFilmsWatched","buttonAddToWatchedRef","onButtonRemoveFromWatched","idxToRemove","findIndex","splice","checkButtonWatchedActive","onButtonRemoveFromQueue","checkButtonQueueActive","bodyRef","getFilmInfo","poster_path","posterPlaceholder","markupFilm","modalTpl","modal","basicLightbox","onClose","style","overflow","onShow","closeModalByEscape","close","modalTextBoxRef","modalTextAboutRef","crossRef","btnClosedModal","dataset","size","height","clientWidth","lightBox","openModal","nodeName","allGenres","getCardData","result","setPoster","genre_ids","genreIds","reqGenres","setGenres","filter","genreId","genresFilter","apiService","total_pages","text","apiSearch","gridTemplate","addBackToTop","backgroundColor","innerHTML","textColor","form","elements","value","optionsPagination","searchUrl","ajaxDataForSearch","popularUrl","ajaxDataForPopular","lightbox","reset","helper","helperMissing","alias3","alias4"],"mappings":"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","file":"main.1f75195b19a2b613fb74.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"library__card-container\\\">\\n  <article class=\\\"lib-card\\\" id=\\\"lib-card\\\">\\n    <a class=\\\"lib-card__link\\\" href=\\\"#\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\n      <div class=\\\"lib-card__image-container\\\">\\n        <img class=\\\"lib-card__image\\\" src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0), depth0))\n    + \"\\\" alt=\\\"movie-cover\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\"/>\\n      </div>\\n      <h2 class=\\\"lib-card__title\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\n        \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"\\n      </h2>\\n      <div class=\\\"lib-card__info\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\n        <span data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\n          \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"genres\") : depth0), depth0))\n    + \"\\n        </span>\\n        <span>&nbsp; | &nbsp;</span>\\n        <span data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\n          \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0), depth0))\n    + \"\\n        </span>\\n        <div class=\\\"lib-card__info--ratio\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\n          <span>\\n            \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0), depth0))\n    + \"\\n          </span>\\n        </div>\\n      </div>\\n    </a>\\n  </article>\\n</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":30,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"movie-grid__item\\\">\\n    <a href=\\\"#\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\n        <div class=\\\"movie-grid__poster-container\\\">\\n            <img class=\\\"movie-grid__poster-img\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\" src=\\\" \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0), depth0))\n    + \"\\\" alt=\\\"Poster\\\" />\\n        </div>\\n        <h2 class=\\\"movie-grid__title\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"</h2>\\n        <p class=\\\" movie-grid__info\\\">\\n            \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"genre_ids\") : depth0), depth0))\n    + \" | \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0), depth0))\n    + \"\\n        </p>\\n    </a>\\n</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":13,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const galleryContainer = document.querySelector('.footer-link');\nconst openTeamModalBtn = document.querySelector('.js-open-modal');\nconst backdropTeamModal = document.querySelector('.js-backdrop');\nconst body = document.querySelector('body');\nconst closeBtn = document.querySelector('.js-team-close');\n// import teamTpl from '../templates/modalTeam.hbs'\n// import * as basicLightbox from 'basiclightbox';\n\ngalleryContainer.addEventListener('click', onOpenModal);\n// console.log(5667677, galleryContainer);\nfunction onOpenModal(evt) {\n  evt.preventDefault();\n\n  window.addEventListener('keydown', onEscKeyPress);\n\n  closeBtn.addEventListener('click', onCloseModal);\n  body.classList.add('show-modal');\n}\n\nfunction onCloseModal() {\n  document.body.classList.remove('show-modal');\n  closeBtn.removeEventListener('click', onCloseModal);\n}\nfunction onEscKeyPress(event) {\n  if (event.code === 'Escape') {\n    onCloseModal();\n  }\n}\n\n// const lightBoxTeam = () => { \n\n//   galleryContainer.addEventListener('click', openModalTeam)\n//   function openModalTeam(evt) {\n//     evt.preventDefault();\n    \n//     const modalTeam = basicLightbox.create(teamTpl())\n//     modalTeam.show();\n        \n  \n//     window.addEventListener('keydown', closeModalByEscape);\n//     function closeModalByEscape(event) {\n//       if (event.code === 'Escape') {\n//         modalTeam.close();\n//         window.removeEventListener('keydown', closeModalByEscape);\n//       }\n//     }\n//     const closeRef = document.querySelector('.icon-close');\n//     closeRef.addEventListener('click', btnClosedModal);\n//     function btnClosedModal() {\n//       modalTeam.close();\n//       closeRef.removeEventListener('click', btnClosedModal);\n//     }\n//   }\n// }\n    \n// export default  \n//  lightBoxTeam\n\n ","const refs = {\n  searchForm: document.querySelector('.form'),\n  inputForm: document.querySelector('.search-form'),\n  navLibrary: document.querySelector('#library'),\n  buttons: document.querySelector('.js-buttons'),\n  myLibraryGallery: document.querySelector('.library__container'),\n  myLibraryCard: document.querySelector('#lib-card'),\n  libraryList: document.querySelector('#my-library'),\n  libraryPaginationContainer: document.querySelector('#library__page-selector'),\n  homeGallery: document.querySelector('.movie-cards'),\n  buttonWatched: document.querySelector('#watched'),\n  buttonQueue: document.querySelector('#queue'),\n  movieGrid: document.querySelector('#js-grid'),\n  errorWarning: document.querySelector('.form__warning'),\n  underscoreOnMyLibrary: document.querySelector('.lib'),\n  underscoreOnHome: document.querySelector('.underscore'),\n  navHome: document.querySelector('#home'),\n  headerHomeOrMyLibrary: document.querySelector('.home'),\n  header: document.getElementById('header'),\n  filmoteka: document.querySelector('#filmoteka'),\n};\n\nexport default refs;\n","// import external modules here:\n\n// import Refs here:\nimport refs from '../refs.js';\n// import templates:\nimport libraryTemplate from '../../templates/library.hbs';\nimport libraryCardTemplate from '../../templates/library__card.hbs';\n\n\nexport function paginatingLib(containerToUse, SourceToUse, cardsPerPage) {\n  if (!SourceToUse) return;\n  containerToUse.pagination({\n    ...paginationParametersCommon,\n    dataSource: SourceToUse,\n    pageSize: cardsPerPage,\n    showPrevious: SourceToUse.length / cardsPerPage > 2,\n    showNext: SourceToUse.length / cardsPerPage > 2,\n  });\n};\n\nexport const paginationParametersCommon = {\n  locator: 'results',\n  totalNumberLocator: 2,\n  pageSize: 4,\n  pageRange: 2,\n  formatResult: function (data) {\n    // console.log(data);\n    return data.map(obj => {\n      if (obj.release_date) {\n        obj.release_date = obj.release_date.slice(0, 4);\n      } else {\n        obj.release_date = 'unknown';\n      }\n      // obj.poster_path = 'https://image.tmdb.org/t/p/w342' + obj.poster_path;\n\n      obj.genres = obj.genres\n        .map(obj => obj.name)\n        .map((genre, index, array) => {\n          if (index === 2) return 'Other';\n          return genre;\n        })\n        .slice(0, 2)\n        .toString();\n\n      return obj;\n    });\n  },\n  showPrevious: true, // показать стрелочку \"предыдущее\"\n  prevText: '',\n  showNext: true, //показать стрелочку \"следующее\"\n  nextText: '',\n  autoHidePrevious: false, // авто спрятать кнопку \"предыдущее\"\n  autoHideNext: false, // авто спрятать кнопку \"следующее\"\n  beforePaging: function (arg) {\n    // console.log(arg);obj.genres\n    // apiService.page = arg;\n  },\n  callback: function (data) {\n    // apiSearch.page = this.pageNumber;\n    //--------------------------------------------\n    const html = libraryTemplate(data);\n    $(refs.libraryList).html(html);\n  },\n  //псевдоним заменяющий имя пагинатора pageNumber на имя в API запросе в нашем случае page что позволяет повторно отсялать запросы при нажатии на страницу\n  alias: {\n    pageNumber: 'page',\n    // pageSize: 'limit',\n  },\n  dataSource: '',\n};\n","/*\n * pagination.js 2.1.5\n * A jQuery plugin to provide simple yet fully customisable pagination\n * https://github.com/superRaytin/paginationjs\n\n * Homepage: http://pagination.js.org\n *\n * Copyright 2014-2100, superRaytin\n * Released under the MIT license.\n*/\n!function(a,b){function c(a){throw new Error(\"Pagination: \"+a)}function d(a){a.dataSource||c('\"dataSource\" is required.'),\"string\"==typeof a.dataSource?void 0===a.totalNumberLocator?void 0===a.totalNumber?c('\"totalNumber\" is required.'):b.isNumeric(a.totalNumber)||c('\"totalNumber\" is incorrect. (Number)'):b.isFunction(a.totalNumberLocator)||c('\"totalNumberLocator\" should be a Function.'):i.isObject(a.dataSource)&&(void 0===a.locator?c('\"dataSource\" is an Object, please specify \"locator\".'):\"string\"==typeof a.locator||b.isFunction(a.locator)||c(a.locator+\" is incorrect. (String | Function)\")),void 0===a.formatResult||b.isFunction(a.formatResult)||c('\"formatResult\" should be a Function.')}function e(a){var c=[\"go\",\"previous\",\"next\",\"disable\",\"enable\",\"refresh\",\"show\",\"hide\",\"destroy\"];b.each(c,function(b,c){a.off(h+c)}),a.data(\"pagination\",{}),b(\".paginationjs\",a).remove()}function f(a,b){return(\"object\"==(b=typeof a)?null==a&&\"null\"||Object.prototype.toString.call(a).slice(8,-1):b).toLowerCase()}void 0===b&&c(\"Pagination requires jQuery.\");var g=\"pagination\",h=\"__pagination-\";b.fn.pagination&&(g=\"pagination2\"),b.fn[g]=function(f){if(void 0===f)return this;var j=b(this),k=b.extend({},b.fn[g].defaults,f),l={initialize:function(){var a=this;if(j.data(\"pagination\")||j.data(\"pagination\",{}),!1!==a.callHook(\"beforeInit\")){j.data(\"pagination\").initialized&&b(\".paginationjs\",j).remove(),a.disabled=!!k.disabled;var c=a.model={pageRange:k.pageRange,pageSize:k.pageSize};a.parseDataSource(k.dataSource,function(b){a.isAsync=i.isString(b),i.isArray(b)&&(c.totalNumber=k.totalNumber=b.length),a.isDynamicTotalNumber=a.isAsync&&k.totalNumberLocator;var d=a.render(!0);k.className&&d.addClass(k.className),c.el=d,j[\"bottom\"===k.position?\"append\":\"prepend\"](d),a.observer(),j.data(\"pagination\").initialized=!0,a.callHook(\"afterInit\",d)})}},render:function(a){var c=this,d=c.model,e=d.el||b('<div class=\"paginationjs\"></div>'),f=!0!==a;c.callHook(\"beforeRender\",f);var g=d.pageNumber||k.pageNumber,h=k.pageRange||0,i=c.getTotalPage(),j=g-h,l=g+h;return l>i&&(l=i,j=i-2*h,j=j<1?1:j),j<=1&&(j=1,l=Math.min(2*h+1,i)),e.html(c.generateHTML({currentPage:g,pageRange:h,rangeStart:j,rangeEnd:l})),k.hideWhenLessThanOnePage&&e[i<=1?\"hide\":\"show\"](),c.callHook(\"afterRender\",f),e},generatePageNumbersHTML:function(a){var b,c=this,d=a.currentPage,e=c.getTotalPage(),f=a.rangeStart,g=a.rangeEnd,h=\"\",i=k.pageLink,j=k.ellipsisText,l=k.classPrefix,m=k.activeClassName,n=k.disableClassName;if(null===k.pageRange){for(b=1;b<=e;b++)h+=b==d?'<li class=\"'+l+\"-page J-paginationjs-page \"+m+'\" data-num=\"'+b+'\"><a>'+b+\"</a></li>\":'<li class=\"'+l+'-page J-paginationjs-page\" data-num=\"'+b+'\"><a href=\"'+i+'\">'+b+\"</a></li>\";return h}if(f<=3)for(b=1;b<f;b++)h+=b==d?'<li class=\"'+l+\"-page J-paginationjs-page \"+m+'\" data-num=\"'+b+'\"><a>'+b+\"</a></li>\":'<li class=\"'+l+'-page J-paginationjs-page\" data-num=\"'+b+'\"><a href=\"'+i+'\">'+b+\"</a></li>\";else k.showFirstOnEllipsisShow&&(h+='<li class=\"'+l+\"-page \"+l+'-first J-paginationjs-page\" data-num=\"1\"><a href=\"'+i+'\">1</a></li>'),h+='<li class=\"'+l+\"-ellipsis \"+n+'\"><a>'+j+\"</a></li>\";for(b=f;b<=g;b++)h+=b==d?'<li class=\"'+l+\"-page J-paginationjs-page \"+m+'\" data-num=\"'+b+'\"><a>'+b+\"</a></li>\":'<li class=\"'+l+'-page J-paginationjs-page\" data-num=\"'+b+'\"><a href=\"'+i+'\">'+b+\"</a></li>\";if(g>=e-2)for(b=g+1;b<=e;b++)h+='<li class=\"'+l+'-page J-paginationjs-page\" data-num=\"'+b+'\"><a href=\"'+i+'\">'+b+\"</a></li>\";else h+='<li class=\"'+l+\"-ellipsis \"+n+'\"><a>'+j+\"</a></li>\",k.showLastOnEllipsisShow&&(h+='<li class=\"'+l+\"-page \"+l+'-last J-paginationjs-page\" data-num=\"'+e+'\"><a href=\"'+i+'\">'+e+\"</a></li>\");return h},generateHTML:function(a){var c,d=this,e=a.currentPage,f=d.getTotalPage(),g=d.getTotalNumber(),h=k.showPrevious,i=k.showNext,j=k.showPageNumbers,l=k.showNavigator,m=k.showGoInput,n=k.showGoButton,o=k.pageLink,p=k.prevText,q=k.nextText,r=k.goButtonText,s=k.classPrefix,t=k.disableClassName,u=k.ulClassName,v=\"\",w='<input type=\"text\" class=\"J-paginationjs-go-pagenumber\">',x='<input type=\"button\" class=\"J-paginationjs-go-button\" value=\"'+r+'\">',y=b.isFunction(k.formatNavigator)?k.formatNavigator(e,f,g):k.formatNavigator,z=b.isFunction(k.formatGoInput)?k.formatGoInput(w,e,f,g):k.formatGoInput,A=b.isFunction(k.formatGoButton)?k.formatGoButton(x,e,f,g):k.formatGoButton,B=b.isFunction(k.autoHidePrevious)?k.autoHidePrevious():k.autoHidePrevious,C=b.isFunction(k.autoHideNext)?k.autoHideNext():k.autoHideNext,D=b.isFunction(k.header)?k.header(e,f,g):k.header,E=b.isFunction(k.footer)?k.footer(e,f,g):k.footer;return D&&(c=d.replaceVariables(D,{currentPage:e,totalPage:f,totalNumber:g}),v+=c),(h||j||i)&&(v+='<div class=\"paginationjs-pages\">',v+=u?'<ul class=\"'+u+'\">':\"<ul>\",h&&(e<=1?B||(v+='<li class=\"'+s+\"-prev \"+t+'\"><a>'+p+\"</a></li>\"):v+='<li class=\"'+s+'-prev J-paginationjs-previous\" data-num=\"'+(e-1)+'\" title=\"Previous page\"><a href=\"'+o+'\">'+p+\"</a></li>\"),j&&(v+=d.generatePageNumbersHTML(a)),i&&(e>=f?C||(v+='<li class=\"'+s+\"-next \"+t+'\"><a>'+q+\"</a></li>\"):v+='<li class=\"'+s+'-next J-paginationjs-next\" data-num=\"'+(e+1)+'\" title=\"Next page\"><a href=\"'+o+'\">'+q+\"</a></li>\"),v+=\"</ul></div>\"),l&&y&&(c=d.replaceVariables(y,{currentPage:e,totalPage:f,totalNumber:g}),v+='<div class=\"'+s+'-nav J-paginationjs-nav\">'+c+\"</div>\"),m&&z&&(c=d.replaceVariables(z,{currentPage:e,totalPage:f,totalNumber:g,input:w}),v+='<div class=\"'+s+'-go-input\">'+c+\"</div>\"),n&&A&&(c=d.replaceVariables(A,{currentPage:e,totalPage:f,totalNumber:g,button:x}),v+='<div class=\"'+s+'-go-button\">'+c+\"</div>\"),E&&(c=d.replaceVariables(E,{currentPage:e,totalPage:f,totalNumber:g}),v+=c),v},findTotalNumberFromRemoteResponse:function(a){this.model.totalNumber=k.totalNumberLocator(a)},go:function(a,c){function d(a){if(!1===e.callHook(\"beforePaging\",g))return!1;if(f.direction=void 0===f.pageNumber?0:g>f.pageNumber?1:-1,f.pageNumber=g,e.render(),e.disabled&&e.isAsync&&e.enable(),j.data(\"pagination\").model=f,k.formatResult){var d=b.extend(!0,[],a);i.isArray(a=k.formatResult(d))||(a=d)}j.data(\"pagination\").currentPageData=a,e.doCallback(a,c),e.callHook(\"afterPaging\",g),1==g&&e.callHook(\"afterIsFirstPage\"),g==e.getTotalPage()&&e.callHook(\"afterIsLastPage\")}var e=this,f=e.model;if(!e.disabled){var g=a;if((g=parseInt(g))&&!(g<1)){var h=k.pageSize,l=e.getTotalNumber(),m=e.getTotalPage();if(!(l>0&&g>m)){if(!e.isAsync)return void d(e.getDataFragment(g));var n={},o=k.alias||{};n[o.pageSize?o.pageSize:\"pageSize\"]=h,n[o.pageNumber?o.pageNumber:\"pageNumber\"]=g;var p=b.isFunction(k.ajax)?k.ajax():k.ajax,q={type:\"get\",cache:!1,data:{},contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",dataType:\"json\",async:!0};b.extend(!0,q,p),b.extend(q.data,n),q.url=k.dataSource,q.success=function(a){e.isDynamicTotalNumber?e.findTotalNumberFromRemoteResponse(a):e.model.totalNumber=k.totalNumber,d(e.filterDataByLocator(a))},q.error=function(a,b,c){k.formatAjaxError&&k.formatAjaxError(a,b,c),e.enable()},e.disable(),b.ajax(q)}}}},doCallback:function(a,c){var d=this,e=d.model;b.isFunction(c)?c(a,e):b.isFunction(k.callback)&&k.callback(a,e)},destroy:function(){!1!==this.callHook(\"beforeDestroy\")&&(this.model.el.remove(),j.off(),b(\"#paginationjs-style\").remove(),this.callHook(\"afterDestroy\"))},previous:function(a){this.go(this.model.pageNumber-1,a)},next:function(a){this.go(this.model.pageNumber+1,a)},disable:function(){var a=this,b=a.isAsync?\"async\":\"sync\";!1!==a.callHook(\"beforeDisable\",b)&&(a.disabled=!0,a.model.disabled=!0,a.callHook(\"afterDisable\",b))},enable:function(){var a=this,b=a.isAsync?\"async\":\"sync\";!1!==a.callHook(\"beforeEnable\",b)&&(a.disabled=!1,a.model.disabled=!1,a.callHook(\"afterEnable\",b))},refresh:function(a){this.go(this.model.pageNumber,a)},show:function(){var a=this;a.model.el.is(\":visible\")||a.model.el.show()},hide:function(){var a=this;a.model.el.is(\":visible\")&&a.model.el.hide()},replaceVariables:function(a,b){var c;for(var d in b){var e=b[d],f=new RegExp(\"<%=\\\\s*\"+d+\"\\\\s*%>\",\"img\");c=(c||a).replace(f,e)}return c},getDataFragment:function(a){var b=k.pageSize,c=k.dataSource,d=this.getTotalNumber(),e=b*(a-1)+1,f=Math.min(a*b,d);return c.slice(e-1,f)},getTotalNumber:function(){return this.model.totalNumber||k.totalNumber||0},getTotalPage:function(){return Math.ceil(this.getTotalNumber()/k.pageSize)},getLocator:function(a){var d;return\"string\"==typeof a?d=a:b.isFunction(a)?d=a():c('\"locator\" is incorrect. (String | Function)'),d},filterDataByLocator:function(a){var d,e=this.getLocator(k.locator);if(i.isObject(a)){try{b.each(e.split(\".\"),function(b,c){d=(d||a)[c]})}catch(a){}d?i.isArray(d)||c(\"dataSource.\"+e+\" must be an Array.\"):c(\"dataSource.\"+e+\" is undefined.\")}return d||a},parseDataSource:function(a,d){var e=this;i.isObject(a)?d(k.dataSource=e.filterDataByLocator(a)):i.isArray(a)?d(k.dataSource=a):b.isFunction(a)?k.dataSource(function(a){i.isArray(a)||c('The parameter of \"done\" Function should be an Array.'),e.parseDataSource.call(e,a,d)}):\"string\"==typeof a?(/^https?|file:/.test(a)&&(k.ajaxDataType=\"jsonp\"),d(a)):c('Unexpected type of \"dataSource\".')},callHook:function(c){var d,e=j.data(\"pagination\"),f=Array.prototype.slice.apply(arguments);return f.shift(),k[c]&&b.isFunction(k[c])&&!1===k[c].apply(a,f)&&(d=!1),e.hooks&&e.hooks[c]&&b.each(e.hooks[c],function(b,c){!1===c.apply(a,f)&&(d=!1)}),!1!==d},observer:function(){var a=this,d=a.model.el;j.on(h+\"go\",function(d,e,f){(e=parseInt(b.trim(e)))&&(b.isNumeric(e)||c('\"pageNumber\" is incorrect. (Number)'),a.go(e,f))}),d.delegate(\".J-paginationjs-page\",\"click\",function(c){var d=b(c.currentTarget),e=b.trim(d.attr(\"data-num\"));if(e&&!d.hasClass(k.disableClassName)&&!d.hasClass(k.activeClassName))return!1!==a.callHook(\"beforePageOnClick\",c,e)&&(a.go(e),a.callHook(\"afterPageOnClick\",c,e),!!k.pageLink&&void 0)}),d.delegate(\".J-paginationjs-previous\",\"click\",function(c){var d=b(c.currentTarget),e=b.trim(d.attr(\"data-num\"));if(e&&!d.hasClass(k.disableClassName))return!1!==a.callHook(\"beforePreviousOnClick\",c,e)&&(a.go(e),a.callHook(\"afterPreviousOnClick\",c,e),!!k.pageLink&&void 0)}),d.delegate(\".J-paginationjs-next\",\"click\",function(c){var d=b(c.currentTarget),e=b.trim(d.attr(\"data-num\"));if(e&&!d.hasClass(k.disableClassName))return!1!==a.callHook(\"beforeNextOnClick\",c,e)&&(a.go(e),a.callHook(\"afterNextOnClick\",c,e),!!k.pageLink&&void 0)}),d.delegate(\".J-paginationjs-go-button\",\"click\",function(c){var e=b(\".J-paginationjs-go-pagenumber\",d).val();if(!1===a.callHook(\"beforeGoButtonOnClick\",c,e))return!1;j.trigger(h+\"go\",e),a.callHook(\"afterGoButtonOnClick\",c,e)}),d.delegate(\".J-paginationjs-go-pagenumber\",\"keyup\",function(c){if(13===c.which){var e=b(c.currentTarget).val();if(!1===a.callHook(\"beforeGoInputOnEnter\",c,e))return!1;j.trigger(h+\"go\",e),b(\".J-paginationjs-go-pagenumber\",d).focus(),a.callHook(\"afterGoInputOnEnter\",c,e)}}),j.on(h+\"previous\",function(b,c){a.previous(c)}),j.on(h+\"next\",function(b,c){a.next(c)}),j.on(h+\"disable\",function(){a.disable()}),j.on(h+\"enable\",function(){a.enable()}),j.on(h+\"refresh\",function(b,c){a.refresh(c)}),j.on(h+\"show\",function(){a.show()}),j.on(h+\"hide\",function(){a.hide()}),j.on(h+\"destroy\",function(){a.destroy()});var e=Math.max(a.getTotalPage(),1),f=k.pageNumber;a.isDynamicTotalNumber&&(f=1),k.triggerPagingOnInit&&j.trigger(h+\"go\",Math.min(f,e))}};if(j.data(\"pagination\")&&!0===j.data(\"pagination\").initialized){if(b.isNumeric(f))return j.trigger.call(this,h+\"go\",f,arguments[1]),this;if(\"string\"==typeof f){var m=Array.prototype.slice.apply(arguments);switch(m[0]=h+m[0],f){case\"previous\":case\"next\":case\"go\":case\"disable\":case\"enable\":case\"refresh\":case\"show\":case\"hide\":case\"destroy\":j.trigger.apply(this,m);break;case\"getSelectedPageNum\":return j.data(\"pagination\").model?j.data(\"pagination\").model.pageNumber:j.data(\"pagination\").attributes.pageNumber;case\"getTotalPage\":return Math.ceil(j.data(\"pagination\").model.totalNumber/j.data(\"pagination\").model.pageSize);case\"getSelectedPageData\":return j.data(\"pagination\").currentPageData;case\"isDisabled\":return!0===j.data(\"pagination\").model.disabled;default:c(\"Unknown action: \"+f)}return this}e(j)}else i.isObject(f)||c(\"Illegal options\");return d(k),l.initialize(),this},b.fn[g].defaults={totalNumber:0,pageNumber:1,pageSize:10,pageRange:2,showPrevious:!0,showNext:!0,showPageNumbers:!0,showNavigator:!1,showGoInput:!1,showGoButton:!1,pageLink:\"\",prevText:\"&laquo;\",nextText:\"&raquo;\",ellipsisText:\"...\",goButtonText:\"Go\",classPrefix:\"paginationjs\",activeClassName:\"active\",disableClassName:\"disabled\",inlineStyle:!0,formatNavigator:\"<%= currentPage %> / <%= totalPage %>\",formatGoInput:\"<%= input %>\",formatGoButton:\"<%= button %>\",position:\"bottom\",autoHidePrevious:!1,autoHideNext:!1,triggerPagingOnInit:!0,hideWhenLessThanOnePage:!1,showFirstOnEllipsisShow:!0,showLastOnEllipsisShow:!0,callback:function(){}},b.fn.addHook=function(a,d){arguments.length<2&&c(\"Missing argument.\"),b.isFunction(d)||c(\"callback must be a function.\");var e=b(this),f=e.data(\"pagination\");f||(e.data(\"pagination\",{}),f=e.data(\"pagination\")),!f.hooks&&(f.hooks={}),f.hooks[a]=f.hooks[a]||[],f.hooks[a].push(d)},b[g]=function(a,d){arguments.length<2&&c(\"Requires two parameters.\");var e;if(e=\"string\"!=typeof a&&a instanceof jQuery?a:b(a),e.length)return e.pagination(d),e};var i={};b.each([\"Object\",\"Array\",\"String\"],function(a,b){i[\"is\"+b]=function(a){return f(a)===b.toLowerCase()}}),\"function\"==typeof define&&define.amd&&define(function(){return b})}(this,window.jQuery);","import refs from './refs.js';\nimport { paginatingLib } from './components/library';\nimport './pagination.min';\n\n//\nconst container = $(refs.libraryPaginationContainer);\n\n// refs.buttonQueue.addEventListener('click',);\n\nfunction buttonQueueActive() {\n  refs.buttonWatched.classList.remove('library__button--active');\n  refs.buttonQueue.classList.add('library__button--active');\n}\n\n// refs.buttonWatched.addEventListener('click');\nfunction buttonWatchedActive() {\n  refs.buttonQueue.classList.remove('library__button--active');\n  refs.buttonWatched.classList.add('library__button--active');\n}\n\n// refs.navLibrary.addEventListener('click', openLibrary);\nexport function queuePaginate() {\n  paginatingLib(\n    container,\n    JSON.parse(localStorage.getItem('filmsQueue')),\n    cardsPerPage(),\n  );\n}\n\nexport function watchedPaginate() {\n  paginatingLib(\n    container,\n    JSON.parse(localStorage.getItem('filmsWatched')),\n    cardsPerPage(),\n  );\n}\n\nfunction openLibrary(event) {\n  event.preventDefault();\n\n  refs.searchForm.classList.add('is-hidden');\n  refs.homeGallery.classList.add('is-hidden');\n  refs.buttons.classList.remove('is-hidden');\n  refs.headerHomeOrMyLibrary.classList.add('lib');\n  //слушатель кнопки очередь\n\n  refs.myLibraryGallery.classList.remove('is-hidden');\n  refs.errorWarning.classList.add('is-hidden');\n  refs.underscoreOnMyLibrary.classList.remove('is-hidden');\n  refs.underscoreOnHome.classList.add('is-hidden');\n}\n\nfunction cardsPerPage() {\n  const currentWidthMode = window\n    .getComputedStyle(document.documentElement)\n    .getPropertyValue('--currentWidthMode');\n  // console.log(currentWidthMode);\n  return currentWidthMode;\n}\n\n// refs.navHome.addEventListener('click', openHome);\nfunction openHome(event) {\n  event.preventDefault(event);\n  refs.searchForm.classList.remove('is-hidden');\n  refs.homeGallery.classList.remove('is-hidden');\n  refs.buttons.classList.add('is-hidden');\n  refs.myLibraryGallery.classList.add('is-hidden');\n  refs.underscoreOnMyLibrary.classList.add('is-hidden');\n  refs.underscoreOnHome.classList.remove('is-hidden');\n  refs.headerHomeOrMyLibrary.classList.remove('lib'); // refs.myHomeGallery.classList.remove('is-hidden'); //refs.errorWarning.classList.add('is-hidden');\n}\n\n// refactoring event listeners\nrefs.header.addEventListener('click', event => {\n  // Обработка на кнопки Library\n  if (event.target.id === 'library') {\n    openLibrary(event);\n    buttonWatchedActive();\n    watchedPaginate();\n    return;\n  }\n  //Обработка на кнопки Home\n  if (event.target.id === 'home' || event.target.id === 'filmoteka') {\n    openHome(event);\n    return;\n  }\n  if (event.target.id === 'watched') {\n    if (!event.target.classList.contains('library__button--active')) {\n      buttonWatchedActive();\n      watchedPaginate();\n    }\n    return;\n  }\n  if (event.target.id === 'queue') {\n    // console.log(event.target.classList.contains('library__button--active'));\n    if (!event.target.classList.contains('library__button--active')) {\n      buttonQueueActive();\n      queuePaginate(event);\n    }\n    return;\n  }\n});\n\n","import spinner from '../templates/spinner.hbs';\n\nexport default {\n  apiKey: '2d2272085b6a086155bacb1413ae9080',\n  searchQuery: '',\n  _page: 1,\n  _searchUrl: 'https://api.themoviedb.org/3/search/movie',\n  _popularUrl: 'https://api.themoviedb.org/3/trending/movie/day',\n  fetchMovie(searchQuery) {\n    const url = this.baseUrl + `?api_key=${this.apiKey}&query=${searchQuery}`;\n    return fetch(url)\n      .then(res => res.json())\n      .then(({ results }) => results);\n  },\n  fetchGenres() {\n    const genresUrl = `https://api.themoviedb.org/3/genre/movie/list?api_key=${this.apiKey}&language=en-US`;\n    return fetch(genresUrl)\n      .then(response => response.json())\n      .then(({ genres }) => genres)\n      .catch(error => console.log(error));\n  },\n\n  get query() {\n    return this.searchQuery;\n  },\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  },\n  get searchUrl() {\n    return `${this._baseUrl}&query=${this.searchQuery}`;\n  },\n  get page() {\n    return this._page;\n  },\n  set page(pageForSet) {\n    this._page = pageForSet;\n  },\n  get searchUrl() {\n    return this._searchUrl;\n  },\n  get popularUrl() {\n    return this._popularUrl;\n  },\n  //ajax option for pagination\n  ajaxBeforeSendSearchFnc: function () {\n    $('#js-grid').html(spinner());\n  },\n  //pagination option\n  get ajaxDataForSearch() {\n    return {\n      data: {\n        api_key: this.apiKey,\n        query: this.searchQuery,\n        page: this._page,\n      },\n      beforeSend: this.ajaxBeforeSendSearchFnc,\n    };\n  },\n  get ajaxDataForPopular() {\n    return {\n      data: {\n        api_key: this.apiKey,\n        page: this._page,\n      },\n      beforeSend: this.ajaxBeforeSendSearchFnc,\n    };\n  },\n};\n","const apiKey = '2d2272085b6a086155bacb1413ae9080';\n\nfunction searchMovie(movie_id) {\n    const url = `https://api.themoviedb.org/3/movie/${movie_id}?api_key=${apiKey}`\n    return fetch(url).then(res => res.json()).then((film) => {\n         return film;\n        }).catch(error => console.log(error));\n}\nexport default searchMovie;","function onButtonAddToQueue(selectedFilm) {\n  let filmsQueue = [];\n  const currentFilmsQueue = localStorage.getItem('filmsQueue');\n\n  if (currentFilmsQueue) {\n    // console.log(\n    //   'уже есть массив с сохранёнными фильмами, добавляем объект с новым фильмом',\n    // );\n\n    filmsQueue = JSON.parse(currentFilmsQueue);\n\n     const buttonAddToQueueRef = document.querySelector('.modal__queue-button');\n     buttonAddToQueueRef.classList.add('active');\n     buttonAddToQueueRef.textContent = 'IN QUEUE';\n\n    if (!filmsQueue.find(({ id }) => id === selectedFilm.id)) {\n      filmsQueue.push(selectedFilm);\n      localStorage.setItem('filmsQueue', JSON.stringify(filmsQueue));\n    }\n  } else {\n    // console.log('массива с сохранёнными фильмами пока нет, создаём');\n\n    filmsQueue.push(selectedFilm);\n    localStorage.setItem('filmsQueue', JSON.stringify(filmsQueue));\n  }\n}\n\nexport default onButtonAddToQueue;\n","function onButtonAddToWatched(selectedFilm) {\n  const filmsArray = [];\n  const currentFilmsWatched = localStorage.getItem('filmsWatched');\n\n  if (currentFilmsWatched) {\n    // console.log(\n    //   'уже есть массив с сохранёнными фильмами, добавляем объект с новым фильмом',\n    // );\n\n    let filmsArray = JSON.parse(currentFilmsWatched);\n\n    // =================\n    const buttonAddToWatchedRef = document.querySelector(\n      '.modal__watched-button');\n    buttonAddToWatchedRef.classList.add('active');\n    buttonAddToWatchedRef.textContent = 'IN WATCHED';\n     // =================\n\n    if (!filmsArray.find(({ id }) => id === selectedFilm.id)) {\n      filmsArray.push(selectedFilm);\n      localStorage.setItem('filmsWatched', JSON.stringify(filmsArray));\n   \n    }\n  } else {\n    // console.log('массива с сохранёнными фильмами пока нет, создаём');\n\n    filmsArray.push(selectedFilm);\n    localStorage.setItem('filmsWatched', JSON.stringify(filmsArray));\n  }\n}\n\nexport default onButtonAddToWatched;\n","function onButtonRemoveFromWatched(selectedFilm) {\n  const filmsArray = [];\n  const currentFilmsWatched = localStorage.getItem('filmsWatched');\n\n  if (currentFilmsWatched) {\n    let filmsArray = JSON.parse(currentFilmsWatched);\n    //console.log(filmsArray);\n    if (filmsArray.find(({ id }) => id === selectedFilm.id)) {\n      const idxToRemove = filmsArray.findIndex(el => el.id === selectedFilm.id);\n\n      filmsArray.splice(idxToRemove, 1);\n      localStorage.setItem('filmsWatched', JSON.stringify(filmsArray));\n      const buttonAddToWatchedRef = document.querySelector(\n        '.modal__watched-button',\n      );\n\n      buttonAddToWatchedRef.classList.remove('active');\n      buttonAddToWatchedRef.textContent = 'ADD TO WATCHED';\n    } else {\n      // console.log('not find');\n    }\n  }\n}\n\nexport default onButtonRemoveFromWatched;\n","import onButtonRemoveFromWatched from './onButtonRemoveFromWatched';\nimport onButtonAddToWatched from './onButtonAddToWatched';\n\nfunction checkButtonWatchedActive(film) {\n    const buttonAddToWatchedRef = document.querySelector(\n        '.modal__watched-button');\n        // console.log(\n        //     buttonAddToWatchedRef.classList.contains('active')\n        // )\n        if(buttonAddToWatchedRef.classList.contains('active')) {\n            onButtonRemoveFromWatched(film);\n        }\n        else {onButtonAddToWatched(film);\n\n        };\n\n}\nexport default checkButtonWatchedActive;","function onButtonRemoveFromQueue(selectedFilm) {\n  const filmsQueue = [];\n  const currentFilmsQueue = localStorage.getItem('filmsQueue');\n\n  if (currentFilmsQueue) {\n    let filmsQueue = JSON.parse(currentFilmsQueue);\n    //console.log(filmsArray);\n    if (filmsQueue.find(({ id }) => id === selectedFilm.id)) {\n      const idxToRemove = filmsQueue.findIndex(el => el.id === selectedFilm.id);\n\n      filmsQueue.splice(idxToRemove, 1);\n      localStorage.setItem('filmsQueue', JSON.stringify(filmsQueue));\n      const buttonAddToQueueRef = document.querySelector(\n        '.modal__queue-button',\n      );\n\n      buttonAddToQueueRef.classList.remove('active');\n      buttonAddToQueueRef.textContent = 'ADD TO QUEUE';\n    } else {\n      // console.log('not find');\n    }\n  }\n}\n\nexport default onButtonRemoveFromQueue;\n","import onButtonAddToQueue from './onButtonAddToQueue';\nimport onButtonRemoveFromQueue from './onButtonRemoveFromQueue';\n\nfunction checkButtonQueueActive(film) {\n    const buttonAddToQueueRef = document.querySelector('.modal__queue-button');\n        // console.log(\n        //     buttonAddToWatchedRef.classList.contains('active')\n        // )\n        if(buttonAddToQueueRef.classList.contains('active')) {\n            onButtonRemoveFromQueue(film);\n        }\n        else {onButtonAddToQueue(film);\n\n        };\n\n}\nexport default checkButtonQueueActive;","const bodyRef = document.querySelector('body');\n\nfunction modalWatcher() {\n    const modalTextBoxRef = document.querySelector('.modal__text-about-box');\n    const modalTextAboutRef = document.querySelector('.modal__text-about');\n    const modalMoreRef = document.querySelector('.modal__more');\n\n    modalMoreRef.addEventListener('click', () => {\n      if (modalTextBoxRef.dataset.size === 'min') {\n        modalTextBoxRef.dataset.size = 'max';\n      } else {\n        modalTextBoxRef.dataset.size = 'min';\n      }\n\n      if (modalTextBoxRef.dataset.size === 'max') {\n        modalTextAboutRef.style.height = 'auto';\n      } else {\n        modalTextAboutRef.style.height = '40px';\n      }\n      \n    })\n  \n    window.addEventListener('resize', () => {\n      if ((bodyRef.clientWidth + 18) > 768) {\n        modalTextAboutRef.style.height = 'auto';\n      } else {\n        modalTextAboutRef.style.height = '40px';\n        modalTextBoxRef.dataset.size = 'min';\n      }\n    })\n}\n\nfunction noScrollBody() {\n  bodyRef.style.overflow = 'hidden';\n}\n\nfunction scrollBody() {\n  bodyRef.style.overflow = 'visible';\n}\n\nexport { modalWatcher, scrollBody, noScrollBody };","import * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/src/styles/main.scss';\nimport searchMovie from './apiFilmFetch';\nimport modalTpl from '../templates/modal.hbs';\nimport onButtonAddToQueue from './onButtonAddToQueue';\nimport onButtonAddToWatched from './onButtonAddToWatched';\nimport refs from './refs.js';\nimport onButtonRemoveFromWatched from './onButtonRemoveFromWatched';\nimport checkButtonWatchedActive from './buttonWatchedCheckActive';\nimport checkButtonQueueActive from './buttonQueueCheckActive';\nimport { modalWatcher, scrollBody, noScrollBody } from './modal-text-watcher';\nimport posterPlaceholder from '../img/image-placeholder-modal.jpg';\n\nimport {queuePaginate} from './openLibrary';\nimport {watchedPaginate} from './openLibrary';\n\nfunction setPosterModal(data) {\n  return !data ? posterPlaceholder : `https://image.tmdb.org/t/p/w500/${data}`;\n}\n\nfunction getFilmInfo(movie_id) {\n  searchMovie(movie_id).then(film => {\n    film.poster_path = setPosterModal(film.poster_path);\n    const markupFilm = modalTpl(film);\n    const modal = basicLightbox.create(markupFilm, { onClose: () => scrollBody(), onShow: () => noScrollBody()});\n    modal.show();\n    // ===============================================\n    // Проверка есть ли фильм в Watched\n    const currentFilmsWatched = localStorage.getItem('filmsWatched');\n    if (currentFilmsWatched) {\n      let filmsArray = JSON.parse(currentFilmsWatched);\n      if (filmsArray.find(({ id }) => id === film.id)) {\n        const buttonAddToWatchedRef = document.querySelector(\n          '.modal__watched-button',\n        );\n        buttonAddToWatchedRef.classList.add('active');\n        buttonAddToWatchedRef.textContent = 'IN WATCHED';\n      }\n    }\n    // Проверка есть ли фильм в Queue\n    const currentFilmsQueue = localStorage.getItem('filmsQueue');\n    if (currentFilmsQueue) {\n      let filmsQueue = JSON.parse(currentFilmsQueue);\n      if (filmsQueue.find(({ id }) => id === film.id)) {\n        const buttonAddToQueueRef = document.querySelector(\n          '.modal__queue-button',\n        );\n        buttonAddToQueueRef.classList.add('active');\n        buttonAddToQueueRef.textContent = 'IN QUEUE';\n      }\n    }\n    // ==================================================\n\n    //   добавление onbuttonAddToQueue\n    const buttonAddToQueueRef = document.querySelector('.modal__queue-button');\n    buttonAddToQueueRef.addEventListener(\n      'click',\n      function () {\n        checkButtonQueueActive(film);\n        if(refs.buttonQueue.classList.contains('library__button--active'))\n        {queuePaginate();}\n      },\n      false,\n    );\n\n    // AddToWatched button .library__button--active\n\n    const buttonAddToWatchedRef = document.querySelector(\n      '.modal__watched-button',\n    );\n    // console.log(buttonAddToWatchedRef);\n\n    // Listener to click\n\n    buttonAddToWatchedRef.addEventListener(\n      'click',\n      function () {\n        checkButtonWatchedActive(film);\n        if(refs.buttonWatched.classList.contains('library__button--active'))\n        {watchedPaginate();}\n      },\n      false,\n    );\n\n    window.addEventListener('keydown', closeModalByEscape);\n    function closeModalByEscape(event) {\n      if (event.code === 'Escape') {\n        modal.close();\n        window.removeEventListener('keydown', closeModalByEscape);\n        //   снимаю слушатель с кнопки\n        buttonAddToQueueRef.removeEventListener(\n          'click',\n          function () {\n            checkButtonQueueActive(film);\n          },\n          true,\n        );\n        buttonAddToWatchedRef.removeEventListener(\n          'click',\n          function () {\n            checkButtonQueueActive(film);\n          },\n          true,\n        );\n      }\n    }\n    const crossRef = document.querySelector('.icon-cross');\n    crossRef.addEventListener('click', btnClosedModal);\n\n    function btnClosedModal() {\n      modal.close();\n      \n      crossRef.removeEventListener('click', btnClosedModal);\n\n      //   снимаю слушатель с кнопки\n      buttonAddToQueueRef.removeEventListener(\n        'click',\n        function () {\n          checkButtonQueueActive(film);\n        },\n        true,\n      );\n      buttonAddToWatchedRef.removeEventListener(\n        'click',\n        function () {\n          checkButtonQueueActive(film);\n        },\n        true,\n      );\n\n    }\n\n    modalWatcher(); \n  });\n}\n\nconst lightBox = () => {\n  refs.libraryList.addEventListener('click', openModal);\n  refs.movieGrid.addEventListener('click', openModal);\n  function openModal(event) {\n    event.preventDefault();\n    if (event.target.nodeName !== 'IMG' && event.target.nodeName !== 'H2') {\n      return;\n    }\n    getFilmInfo(event.target.dataset.id);\n  }\n};\n\n\n\nexport default lightBox;\n","import apiService from './apiSearchFetch.js';\nimport posterPlaceholder from '../img/image-placeholder.jpg';\n\nconst allGenres = [];\ngetAllGenres();\nexport default function getCardData(results) {\n  results.map(result => {\n    result.release_date = setDate(result.release_date);\n    result.poster_path = setPoster(result.poster_path);\n    result.genre_ids = genresFilter(allGenres, result.genre_ids);\n    return result;\n  });\n  return results;\n}\nfunction genresFilter(data, genreIds) {\n  const filtredData = data.filter(genre =>\n    genreIds.find(genreId => genre.id === genreId),\n  );\n  return setGenres(filtredData);\n}\nfunction getAllGenres() {\n  apiService.fetchGenres().then(data => {\n    return data.map(genre => allGenres.push(genre));\n  });\n}\nfunction setPoster(data) {\n  return !data ? posterPlaceholder : `https://image.tmdb.org/t/p/w342/${data}`;\n}\nfunction setDate(data) {\n  return !data ? 'Unknown Release Date' : data.slice(0, 4);\n}\nfunction setGenres(data) {\n  const reqGenres = [];\n  data.map(res => reqGenres.push(` ${res.name}`));\n  if (reqGenres.length > 3) {\n    reqGenres.splice(2);\n    reqGenres.push(' Other');\n  } else if (reqGenres.length === 0) {\n    reqGenres.push('Unknown Genre');\n  }\n  reqGenres.toString().trim();\n  return reqGenres;\n}\n","import apiSearch from './apiSearchFetch';\nimport gridTemplate from '../templates/movie-grid.hbs';\nimport refs from './refs.js';\nimport getCardData from './cardDataHandler.js';\nimport './components/pnotifyInclude.js';\nimport { notice, error, } from '@pnotify/core/dist/PNotify.js';\n\nexport default {\n  dataSource: '', // стек данных для пагинации, может быть функция возвращающая массив объектов, куча возможностей\n\n  //   function (done) {\n  //   $.ajax({\n  //     type: 'GET',\n  //     url: `https://api.themoviedb.org/3/search/movie?query=${apiService.query}&page=${apiService.page}`,\n  //     success: function (response) {\n  //       done(response.results);\n  //     },\n  //   });\n  // },\n  // локатор это ключ который есть в response и данные которого мы передаем в data\n  locator: 'results',\n  // общее количество страниц, почеммуто ломает pageSize\n  // totalNumber: 7,\n  totalNumberLocator: function (response) {\n    if (response.total_pages === 0){\n      error({\n      text: \"Search result not successful. Enter the correct movie name and try again!\"   \n  });\n}    \nreturn response.total_pages;\n},\n  pageSize: 1, //pageSizeCalc(window.innerWidth), // количество объектов-элементов на страницу\n  pageRange: 2,\n  //форматирование результатов данных из джсона\n  formatResult: function (data) {\n    getCardData(data);\n  },\n  // то что отображается прежде чем вернется ответ от сервера - спинер совать сюда\n  //   ajax: {\n  //     data: {\n  //       api_key: '2d2272085b6a086155bacb1413ae9080',\n  //       query: apiSearch.query,\n  //       page: apiSearch.page,\n  //     },\n  //     beforeSend: function () {\n  //       $('#js-grid').html(spinner());\n  //     },\n  //   },\n  showPrevious: true, // показать стрелочку \"предыдущее\"\n  prevText: '',\n  showNext: true, //показать стрелочку \"следующее\"\n  nextText: '',\n  autoHidePrevious: false, // авто спрятать кнопку \"предыдущее\"\n  autoHideNext: false, // авто спрятать кнопку \"следующее\"\n  // showGoInput: true, //показать Гоинпут для ввода страницы\n  // showGoButton: true, // показать кнопку Го для перехода к введенной в инпуте странице\n  beforePaging: function (arg) {\n    // apiService.page = arg;\n  },\n  // beforeNextOnClick: function () {\n  //   apiService.page += 1;\n  // },\n  // beforePreviousOnClick: function () {\n  //   apiService.page -= 1;\n  // },\n  callback: function (data, pagination) {\n    // тут код с методами отрисовки макета страницы по шаблонам,\n    //data это кусок массива объектов согласно номера страницы dataSource[..., data<N- elements of array >, ...]\n    //------------------------------------------------\n    // pagination.pageSize = pageSizeCalc(window.innerWidth);\n    // console.log(pagination);\n    // console.log(data);\n    // homeTrending.page = Math.trunc(\n    //   Number(pagination.pageNumber) /\n    //     Math.trunc(20 / Number(pagination.pageSize)),\n    // );\n    apiSearch.page = this.pageNumber;\n    //--------------------------------------------\n    const html = gridTemplate(data);\n    $('#js-grid').html(html);\n  },\n  //псевдоним заменяющий имя пагинатора pageNumber на имя в API запросе в нашем случае page что позволяет повторно отсялать запросы при нажатии на страницу\n  alias: {\n    pageNumber: 'page',\n    // pageSize: 'limit',\n  },\n};\n// -------------данный объект репрезентация объекта в пагинаторе, для понимания работы и логики\n// const pagination = {\n//   // pageNumber, //\tnumber\tThe selected page number\n//   pageRange: 5, //\tnumber\tVisible page number range\n//   pageSize: pageSizeCalc(window.innerWidth), //\tnumber\tEntries of per page\n//   // totalPage, //\tnumber\tTotal page\n//   // totalNumber, //number\tTotal entries\n//   // el, //  jQuery object\tPagination element\n//   // direction, //number\tPagination direction, -1 means forward, 1 means backward, 0 means current is at initialization.\n// };\n//-------------------------\n// возвращает размер страницы в зависимости от вьюпорта пользователя не работает для данного нам API\n// function pageSizeCalc(innerWidth) {\n//   if (innerWidth < 768) {\n//     return 4;\n//   }\n//   if (innerWidth < 1024) {\n//     return 8;\n//   }\n//   return 9;\n// }\n","import { addBackToTop } from 'vanilla-back-to-top';\naddBackToTop({\n  backgroundColor: '#ff6b08',\n  innerHTML:\n    '<svg viewBox=\"0 0 24 24\"><path d=\"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z\"/></svg>',\n  textColor: '#ffffff',\n});","import './sass/main.scss';\nimport './js/openLibrary.js';\nimport refs from './js/refs.js';\nimport apiService from './js/apiSearchFetch.js';\nimport lightbox from './js/modalFilmMarkup';\n//import lightBoxTeam from './js/team-modal'\nimport { processingSpinner, deleteSpinner } from './js/spinner-loader';\nimport './js/pagination.min';\nimport optionsPagination from './js/paginationOptions';\nimport './js/team-modal';\nconst container = $('#pagination-container');\nimport './js/button-up.js';\n\n// processingSpinner();\n///поиск по инпуту\nrefs.inputForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const form = event.currentTarget;\n  if (form.elements.query.value < 1) {\n    return;\n  }\n  apiService.query = form.elements.query.value;\n  // console.log(apiService.searchUrl);\n  refs.movieGrid.innerHTML = '';\n  //form.reset(); //чистим форму\n\n  container.pagination({\n    ...optionsPagination, //деструктуризация базовых настроек пагинатора (default options) рендер страницы зашит в дефолтных опциях!!!\n    dataSource: apiService.searchUrl, //передача корня ссылки на сайт в данном случае ссылка поиска\n    ajax: apiService.ajaxDataForSearch, // настройки запросов аякса под каждый сайт-сервер (apiKey,page,query)\n  });\n});\n\n//запускается при отрисовке страницы первым\ncontainer.pagination({\n  ...optionsPagination, //деструктуризация базовых настроек пагинатора (default options) рендер страницы зашит в дефолтных опциях!!!\n  dataSource: apiService.popularUrl, //передача корня ссылки на сайт в данном случае ссылка популярных фильмов\n  ajax: apiService.ajaxDataForPopular, // настройки запросов аякса под каждый сайт-сервер (apiKey,page,query)\n});\n// deleteSpinner();\nlightbox();\n//lightBoxTeam()\n\nrefs.filmoteka.addEventListener('click', event => {\n  event.preventDefault();\n  refs.inputForm.reset();\n  container.pagination({\n    ...optionsPagination, //деструктуризация базовых настроек пагинатора (default options) рендер страницы зашит в дефолтных опциях!!!\n    dataSource: apiService.popularUrl, //передача корня ссылки на сайт в данном случае ссылка популярных фильмов\n    ajax: apiService.ajaxDataForPopular, // настройки запросов аякса под каждый сайт-сервер (apiKey,page,query)\n  });\n});\n","module.exports = __webpack_public_path__ + \"img/image-placeholder-modal.jpg\";","module.exports = __webpack_public_path__ + \"img/image-placeholder.jpg\";","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"spinner-border spinner-position\\\" role=\\\"status\\\">\\n    <span class=\\\"visually-hidden\\\">Loading...</span>\\n</div>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"library__card-container\\\">\\n  <article class=\\\"lib-card\\\" id=\\\"lib-card\\\">\\n    <a class=\\\"lib-card__link\\\" href=\\\"#\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":48},\"end\":{\"line\":3,\"column\":54}}}) : helper)))\n    + \"\\\">\\n      <div class=\\\"lib-card__image-container\\\">\\n        <img class=\\\"lib-card__image\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":42},\"end\":{\"line\":5,\"column\":57}}}) : helper)))\n    + \"\\\" alt=\\\"movie-cover\\\" />\\n      </div>\\n      <h2 class=\\\"lib-card__title\\\">\\n        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":8},\"end\":{\"line\":8,\"column\":17}}}) : helper)))\n    + \"\\n      </h2>\\n      <div class=\\\"lib-card__info\\\">\\n        <span class=\\\"lib-card__info--genres\\\">\\n          \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genres\") || (depth0 != null ? lookupProperty(depth0,\"genres\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genres\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":10},\"end\":{\"line\":13,\"column\":20}}}) : helper)))\n    + \"\\n        </span>\\n        <span>\\n          |\\n        </span>\\n        <span>\\n          \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":10},\"end\":{\"line\":20,\"column\":26}}}) : helper)))\n    + \"\\n        </span>\\n        <div class=\\\"lib-card__info--ratio\\\">\\n          <span>\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":12},\"end\":{\"line\":24,\"column\":28}}}) : helper)))\n    + \"\\n          </span>\\n        </div>\\n      </div>\\n    </a>\\n  </article>\\n</li>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <span class=\\\"modal__rating-genre-value\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \" |</span>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div id=\\\"modal\\\" class=\\\"modal\\\">\\n    <button class=\\\"modal__close-btn\\\" type=\\\"button\\\">\\n        <svg class=\\\"icon-cross\\\" width=\\\"20px\\\" height=\\\"20px\\\" fill=\\\"#000000\\\" viewBox=\\\"0 0 32 32\\\"\\n            xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n            <path stroke=\\\"black\\\" stroke-width=\\\"2.133\\\" d=\\\"M8.533 8.533l14.933 14.933m-14.933.001L23.466 8.534\\\" />\\n        </svg>\\n    </button>\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":14},\"end\":{\"line\":8,\"column\":29}}}) : helper)))\n    + \"\\\" data-source=\\\"https://image.tmdb.org/t/p/w500/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"backdrop_path\") || (depth0 != null ? lookupProperty(depth0,\"backdrop_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"backdrop_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":76},\"end\":{\"line\":8,\"column\":93}}}) : helper)))\n    + \"\\\" alt=\\\"film poster\\\"\\n        class=\\\"modal__image\\\" width=\\\"240px\\\" />\\n    <div class=\\\"modal__info-box\\\">\\n        <h2 class=\\\"modal__film-title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":38},\"end\":{\"line\":11,\"column\":47}}}) : helper)))\n    + \"</h2>\\n        <div class=\\\"modal__rating-box\\\">\\n            <ul class=\\\"modal__rating-list\\\">\\n                <li class=\\\"modal__rating-item\\\">\\n                    <span class=\\\"modal__rating-votes\\\">Vote / Votes</span>\\n                    <span class=\\\"modal__rating-votes-avarage\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":62},\"end\":{\"line\":16,\"column\":78}}}) : helper)))\n    + \"</span>\\n                    <span class=\\\"slice\\\">/</span>\\n                    <span class=\\\"modal__rating-votes-total\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":60},\"end\":{\"line\":18,\"column\":74}}}) : helper)))\n    + \"</span>\\n                </li>\\n                <li class=\\\"modal__rating-item\\\">\\n                    <span class=\\\"modal__rating-popular\\\">Popularity</span>\\n                    <span class=\\\"modal__rating-popular-value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":62},\"end\":{\"line\":22,\"column\":76}}}) : helper)))\n    + \"</span>\\n                </li>\\n                <li class=\\\"modal__rating-item\\\">\\n                    <span class=\\\"modal__rating-name\\\">Original Title</span>\\n                    <div class=\\\"modal__rating-name-box\\\">\\n                        <span class=\\\"modal__rating-name-value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":63},\"end\":{\"line\":27,\"column\":81}}}) : helper)))\n    + \"</span>\\n                    </div>\\n                </li>\\n                <li class=\\\"modal__rating-item\\\">\\n                    <span class=\\\"modal__rating-genre\\\">Genre</span>\\n                    <div class=\\\"modal__rating-genre-box\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":33,\"column\":24},\"end\":{\"line\":35,\"column\":33}}})) != null ? stack1 : \"\")\n    + \"                    </div>\\n                </li>\\n            </ul>\\n\\n        </div>\\n        <h3 class=\\\"modal__title-about\\\">About</h3>\\n        <div class=\\\"modal__text-about-box\\\" data-size=\\\"min\\\">\\n            <p class=\\\"modal__text-about\\\">\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":44,\"column\":16},\"end\":{\"line\":44,\"column\":28}}}) : helper)))\n    + \"\\n            </p>\\n            <p class=\\\"modal__more\\\">&#8693</p>\\n        </div>\\n        <div class=\\\"modal__button-box\\\">\\n            <button class=\\\"modal__watched-button\\\" type=\\\"button\\\">add to <br> watched</button>\\n            <button class=\\\"modal__queue-button\\\" type=\\\"button\\\">add to queue</button>\\n        </div>\\n    </div>\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}